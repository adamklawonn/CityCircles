= debug @news

- # The map will take on the dimensions of it's container. In this case "news-map".
#news-map{ :style => "width: 200px; height: 200px;" }

:javascript

  function loadNewsMap() {
    if ( GBrowserIsCompatible() ) {
      
      // Create news icon.
      newsIcon = new GIcon();
      newsAnchor = new GPoint( #{ @news.map_icon.icon_anchor } );
      newsIcon.image = "#{ @news.map_icon.image_url }";
      newsIcon.iconAnchor = newsAnchor;
      newsIcon.infoWindowMarker = newsAnchor;
      newsIcon.iconSize = new GSize( 43, 30 );
      newsIcon.shadow = "#{ @news.map_icon.shadow_url }";
      newsIcon.shadowSize = new GSize( 43, 30 );
      
      var newsMap = new GMap2( $( "news-map" ) );
      newsMap.disableDragging();
      newsMap.disableDoubleClickZoom();
      newsMap.disableScrollWheelZoom();
      var newsMarker = new GMarker( new GLatLng( #{ @news.lat }, #{ @news.lng } ), { icon : newsIcon } );
      newsMap.setCenter( new GLatLng( #{ @news.lat }, #{ @news.lng } ), 17 ); 
      newsMap.addOverlay( newsMarker );
    }
  }
  
  $j( document ).ready( loadNewsMap );
  